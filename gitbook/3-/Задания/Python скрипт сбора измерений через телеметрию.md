---
тема: Измерительный прибор
автор: Егор Анатольевич Денисов
дата: 2026-02-17
---

# Результат

- [ ] Создан Python скрипт `get_telemetry.py`
- [ ] После запуска скрипт выполняет следующие действия:
	- [ ] скрипт подключается к COM-порту прибора
	- [ ] скрипт запускает телеметрию от прибора командой `tm_start`
	- [ ] скрипт ожидает заданное время, собирая и сохраняя телеметрию
	- [ ] скрипт останавливает телеметрию от прибора командой `tm_stop`
	- [ ] после окончания сбора измерений скрипт строит график измерений
- [ ] Скрипт `telemetry.py` закоммичен в ваш репозиторий GitHub

# Инструкция

1. Создать в папке проекта файл python скрипта `get_telemetry.py` на основе скрипта `get_adc.py`

2. Изменить функцию `read_value` на такую:

``` python
def read_value(ser):
	while True:
		try:
			line = ser.readline().decode('ascii')
			v, t = map(float, line.split())
			return v, t
		except ValueError:
			continue
```

3. Перед блоком `try` один раз отправить на устройство команду старта телметрии:

``` python
ser.write("tm_start\n".encode('ascii'))
```

4. Внутри `try` вместо отправки команд и чтения двух значений читаем напряжение и температуру одной строкой из телеметрии:

``` python
voltage_V, temp_C = read_value(ser)
```

5. В `finally`, перед закрытием порта отправляем команду на остановку телеметрии:

``` python
ser.write("tm_stop\n".encode('ascii'))
```

6. Запустить скрипт, подождать, прервать его командой `Ctrl+C`, после чего должен быть получен график:

![[Pasted image 20260219024613.png]]

7. Сделать `commit` и `push` скрипта `get_telemetry.py`

