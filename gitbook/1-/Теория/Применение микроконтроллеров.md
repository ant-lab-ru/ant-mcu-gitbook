---
занятие:
  - "[[Как начать работать с микроконтроллерами]]"
дата: 2026-01-25
tags:
  - занятие1
  - теория
---
В прошлом разделе мы выяснили, что микроконтроллер содержит в одной микросхеме набор устройств, сравнимый с целым компьютером. Теперь нам нужно разобраться, почему нам нужно использовать именно микроконтроллеры в наших инженерных задачах. Начнём с того, что сравним компьютер и микроконтроллер.

## Сравнение компьютера и микроконтроллера

Мы уже видели структурную схему персонального компьютера, теперь в таком же стиле рассмотрим схему устройства микроконтроллера.

![[Схема микроконтроллера.png]]

Эта схема не отображает всё устройство микроконтроллера, но позволяет увидеть, что принципиально он очень похож на обычный персональный компьютер.

В чём же тогда их отличие? Давайте попытаемся разобраться на примере знакомого вам одноплатного компьютера **Raspberry Pi 4** и микроконтроллера **RP2040** (с которым мы будем работать в этом курсе) от того же производителя. Ниже представлена таблица сравнения технических характеристик двух вычислительных устройств

| Параметр                                       | Raspberry Pi 4                 | RP2040 (Pico)                         |
| ---------------------------------------------- | ------------------------------ | ------------------------------------- |
| **Процессор** (кол-во ядер, частота)           | 4 ядра, 1.5 GHz                | 2 ядра, 133 MHz                       |
| **Потребление энергии**                        | ~3-5 Вт                        | ~0.1 Вт                               |
| **RAM** (кол-во энергозависимой памяти)        | 1-8 GB                         | 264 KB                                |
| **Хранение** (кол-во энергонезависимой памяти) | Определяется размером SD-карты | Внешняя Flash, объём зависит от платы |
| **Операционная система**                       | Linux                          | определяется разработчиком            |
| **Время запуска**                              | десятки секунд                 | миллисекунды                          |
| **Цена**                                       | $35-55                         | $4                                    |
Какие выводы можно сделать по этой таблице. 
- *Во-первых*, одноплатный компьютер имеет большую вычислительную мощность по сравнению с микроконтроллером. Но сразу после этого мы видимо, что и потребляет он больше энергии. 
- *Во-вторых*, за счёт того, что энергозависимая память в Raspbery Pi 4 выполнена в формате отдельной микросхемы, запас оперативной памяти на 3 порядка больше. 
- *В-третьих,* мы видим, что для работы компьютера необходима операционная система хранящаяся на внешней microSD-карте, в RP2040 вы можете сами определять какой набор программ будет на нём запущен, поэтому микроконтроллер почти мгновенно запускается, так ему не нужна выполнять операции по запуску операционной системы. 
- *И наконец*, микроконтроллер стоит гораздо дешевле.

### Плюсы микроконтроллеров

Поскольку в нашем курсе мы пытаемся показать насколько важны для инженера микроконтроллеры, давай выделим их сильные стороны

1. **Предсказуемое время отклика**
   - Время от поступления сигнала до формирования реакции известно заранее
   - Критично для систем управления (например, стабилизация квадрокоптера)

2. **Полный контроль над оборудованием**
   - Инженер напрямую управляет всеми компонентами устройства
   - Можно работать без сложной многозадачной ОС (bare metal)

3. **Автономность**
   - Устройство работает независимо
   - Можно разместить в удалённых или труднодоступных местах

4. **Низкая стоимость**
   - Цена микроконтроллера — от нескольких рублей до нескольких сотен
   - Существенно при серийном производстве

5. **Надёжность**
   - Минимальное количество компонентов
   - Меньше потенциальных точек отказа

6. **Работа в сложных условиях**
   - Экстремальные температуры (-40°C до +85°C и выше)
   - Вибрация, помехи, влажность
### Минусы микроконтроллеров

1. **Ограниченная вычислительная мощность**
	- Тактовая частота: десятки-сотни МГц (vs гигагерцы у ПК)
	- Не подходят для тяжёлых вычислений (обработка видео, машинное обучение)

2. **Малый объём памяти**
	- RAM: килобайты — сотни килобайт (vs гигабайты у ПК)
	- Flash: килобайты — единицы мегабайт (vs терабайты у ПК)

3. **Сложность разработки**
	- Нет привычной ОС с готовыми сервисами
	- Требуется понимание аппаратуры на низком уровне
	- Отладка сложнее (нужен программатор, отладчик, осциллограф)

4. **Ограниченная переносимость кода**
	- Код часто привязан к конкретному микроконтроллеру или семейству
	- Смена платформы может потребовать значительной переработки

5. **Меньше готовых решений**
	- Меньше библиотек и фреймворков по сравнению с ПК
	- Многое приходится писать самостоятельно или адаптировать

6. **Ограниченные возможности ввода-вывода**
	- Все возможности ввода вывода определяются конкретной микросхемой

## Встраиваемые системы

После того как мы поняли плюсы и минусы микроконтроллеров, давайте разберемся, какое место они могут занимать в нашей работе инженеров. Основная задача, с которой мы как инженеры сталкиваемся — это создание устройств на границе аналогового и цифрового мира. В инженерных задачах очень часто эта граница нам важна в тех местах, до которых сложно добраться и в которых тяжело выжить: измерить радиацию в космосе, определить показатели солёности в океане и контролировать добычу нефти под землей. В бытовых задачах таких проблем нет, но есть желание сделать максимально надёжное и автономное устройство, которое облегчит нам жизнь и не будет требовать много внимания: система контроля климата, автономное освещение, кипячение и поддержание температуры воды.

Как видите, каждая такая задача не может быть выполнена только средствами микроконтроллера, обычно это специальное устройство, в котором много датчиков, актуаторов (исполнительных устройств), систем обмена информацией и т. д.. Но за сбор и обработку всей этой информации отвечает именно микроконтроллер.

>[!NOTE] Определение
>**Встраиваемая система** (*англ. Embedded System*) — специализированное вычислительное устройство, встроенное в оборудование для измерения, управления или обработки данных.

Стоит отметить, что само определение достаточно многогранно и подходит под многие системы, которые мы с вами не будем рассматривать. Например, одноплатный компьютер Raspbery Pi с подключенным датчиком температуры, передающий показания по WiFi, с такого взгляда тоже может показаться встраиваемой системой. Строгое определение дать сложно, но так или иначе инженерами под этим термином понимается микроконтроллер + его специализированное окружение.

Встраиваемые системы незаменимы, когда нам нужно иметь полный контроль над происходящими физическими процессами и быстро выдавать реакцию в соответствии с заданным алгоритмом. Рассмотрим самолёт: в нём сотни, если не тысячи встраиваемых систем, каждая из которых выполняет свою задачу и при этом может быть связана с другими встроенными системами. Например:

1. Датчик угла атаки — измеряет угол между крылом и набегающим потоком воздуха. Если угол слишком большой — самолёт потеряет подъёмную силу. Микроконтроллер считывает сигнал с датчика и передаёт данные в систему предупреждения пилота.

2. FADEC (управление двигателем) — микроконтроллер получает команду пилота «увеличить тягу», считывает десятки параметров (температура турбины, давление, обороты) и рассчитывает оптимальную подачу топлива. Реакция должна быть мгновенной и точной. 

3. Противообледенительная система — микроконтроллер следит за температурой воздуха и наличием влаги. При угрозе обледенения автоматически включает обогрев кромок крыльев и датчиков.
### Что выбрать?

**Используйте микроконтроллер, если:**
- Нужна работа в реальном времени и быстрая реакция на события
- Нужен полный контроль выполняемых вычислительных операций
- Важно низкое энергопотребление (батарейное питание)
- Нужна низкая стоимость (серийное производство)
- Простая задача (управление, измерение, связь)

**Используйте компьютер, если:**
- Нужна операционная система
- Нужна большая вычислительная мощность
- Нужна сложная работа с сетью (полноценный веб-сервер с базой данных, множество одновременных подключений)
- Нужен графический интерфейс
- Сложная обработка данных (машинное обучение, компьютерное зрение)


| **[[Путь от компьютера к микроконтроллеру\|Предыдущий раздел]]** | [[Как начать работать с микроконтроллерами\|К занятию]] | **[[Устройство микроконтроллера\|Следующий раздел]]** |
| ---------------------------------------------------------------- | ------------------------------------------------------- | ----------------------------------------------------- |


