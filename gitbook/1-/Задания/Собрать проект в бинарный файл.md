---
тема: Как начать работать с микроконтроллерами
автор: Егор Анатольевич Денисов
дата: 2026-01-22
tags:
  - занятие1
  - практика
---

# Результат

- [ ] В папке `01-blink` создана папка `build` для сборки проекта
- [ ] cmake отработал без ошибок
- [ ] make отработал без ошибок
- [ ] в папке `build` после сборки есть `01-blink.bin` файл
- [ ] в папке `build` после сборки есть `01-blink.uf2` файл

# Инструкция

> [!INFO] Справка
> Сборку проектов принято производить в отдельной папке с названием `build`. Это позволяет изолировать в ней все процессы сборки (при сборке генерируется огромное количество промежуточных файлов), а также легко очищать и пересобирать проект. А также хранить в репозитории (подвергать контролю версий) только исходные файлы, за счет того, что папка `build` добавлена в `.gitignore`.

1. Создать папку `build` и перейти в нее:

``` bash
# Находимся в папке pico/mcu/01-blink
mkdir build
cd build
```

2. Запустить `cmake` для генерации скриптов для make:

``` bash
cmake -G "Unix Makefiles" ..
```

> [!NOTE] Справка
>  CMake генерирует сценарий сборки, по которому make, в следующем шаге, сможет выполнить сборку проекта.

В выводе не должно быть ошибок, а в самом конце вывода должны быть сообщения об успешной генерации:

``` bash
-- Configuring done (0.6s)
-- Generating done (0.1s)
-- Build files have been written to: mcu-private/01-blink/build
```

3. Запустить `make` для сборки прошивки:

``` bash
make
```

> [!NOTE] Справка
>  Make - запускает компилятор и линкер для всех файлов проекта, подставляя нужные флаг, следя за зависимостями. Здесь происходят препроцессинг, компиляция, линковка, компоновка бинарника, преобразование бинарника в `uf2` формат. Make работает по сценарию, который сгенерировал ему cmake.

``` bash
[100%] Linking CXX executable 01_blink.elf
[100%] Built target 01_blink
```

4. Проверить папку `build`

В результате, в папке `build` должно появиться множество файлов и папок, среди которых нам интересны `01_blink.bin` и `01_blink.uf2`. Если эти файлы есть, значит сборка прошла успешно:

![[Pasted image 20260203185156.png]]